# GPAC SEGV Vulnerability Reproduction

## POC URL
https://github.com/17ssDP/fuzzer_crashes/blob/main/gpac/mp4box-bt-segv-1

## Compilation Environment
- Ubuntu 16.04
- Clang 10.0.1
- gcc 5.5
- GPAC version: 2.1-DEV-rev368-gfd054169b-master
- Configure options: `--enable-sanitizer`

## Run Command
```
git clone https://github.com/gpac/gpac.git
cd gpac
./configure --enable-sanitizer
make -j$(nproc)
./bin/gcc/MP4Box -bt mp4box-bt-segv-1
```

## Expected Output
```
[iso file] Unknown box type 0000 in parent moov
[iso file] Unknown box type 0000 in parent moov
...
[iso file] Incomplete file while reading for dump - aborting parsing
MPEG-4 BIFS Scene Parsing
[ODF] Reading bifs config: shift in sizes (not supported)
[MP4 Loading] Unable to fetch sample 38 from track ID 8 - aborting track import
Scene loaded - dumping 1 systems streams
ASAN:DEADLYSIGNAL
=================================================================
==42376==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000008 (pc 0x7f6a20c34c94 bp 0x60b000000720 sp 0x7ffd44396130 T0)
==42376==The signal is caused by a READ memory access.
==42376==Hint: address points to the zero page.
#0 0x7f6a20c34c93 in gf_dump_vrml_sffield scene_manager/scene_dump.c:693
#1 0x7f6a20c69012 in gf_dump_vrml_simple_field scene_manager/scene_dump.c:775
...
SUMMARY: AddressSanitizer: SEGV scene_manager/scene_dump.c:693 in gf_dump_vrml_sffield
==42376==ABORTING
```