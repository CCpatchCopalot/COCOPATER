{
    "0": "-                std::string data_path = path_join(ctx.get_model_dir(), entry.value());\n\n+                std::string relative_path = clean_relative_path(entry.value());\n+                if (relative_path.rfind(\"..\" + k_preferred_path_separator, 0) == 0) {\n+                    fail_check( \"Data of TensorProto ( tensor name: \", tensor.name(), \") should be file inside the \", ctx.get_model_dir(), \", but the '\", entry.value(), \"' points outside the directory\");\n+                }\n+                std::string data_path = path_join(ctx.get_model_dir(), relative_path);\n\n-                std::string relative_path = clean_relative_path(entry.value());\n-                if (relative_path.rfind(\"..\" + k_preferred_path_separator, 0) == 0) {\n-                    fail_check( \"Data of TensorProto ( tensor name: \", tensor.name(), \") should be file inside the \", ctx.get_model_dir(), \", but the '\", entry.value(), \"' points outside the directory\");\n-                }\n-                std::string data_path = path_join(ctx.get_model_dir(), relative_path);\n\n+                std::string data_path = path_join(ctx.get_model_dir(), entry.value());\n\n-#ifdef _W32\n-#else\n-                if (!S_ISREG(buffer.st_mode)) {\n-                    fail_check( \"Data of TensorProto ( tensor name: \", tensor.name(), \") should be stored in \", data_path, \", but it is not regular file.\");\n-                }\n-#endif\n\n",
    "1": "+#ifdef _W32\n+#else\n+                if (!S_ISREG(buffer.st_mode)) {\n+                    fail_check( \"Data of TensorProto ( tensor name: \", tensor.name(), \") should be stored in \", data_path, \", but it is not regular file.\");\n+                }\n+#endif\n\n"
}