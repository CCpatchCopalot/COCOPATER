{
    "0": "-    if (chunk_size < 4 || (buf = malloc(chunk_size)) == 0) {\n\n+    int n;\n+    if (chunk_size < 4 || (buf = malloc(chunk_size+1)) == 0) {\n\n-    pcm_read(&reader->io, buf, chunk_size);\n\n+    n = pcm_read(&reader->io, buf, chunk_size);\n+    if (n != chunk_size) {\n+        return -1;\n+    }\n+    buf[n] = 0;\n\n-    int n;\n-    if (chunk_size < 4 || (buf = malloc(chunk_size+1)) == 0) {\n\n+    if (chunk_size < 4 || (buf = malloc(chunk_size)) == 0) {\n\n-    n = pcm_read(&reader->io, buf, chunk_size);\n-    if (n != chunk_size) {\n-        return -1;\n-    }\n-    buf[n] = 0;\n\n+    pcm_read(&reader->io, buf, chunk_size);\n\n",
    "1": "+    if (count < 0) {\n+        return -1;\n+    }\n\n",
    "2": "-    if (count < 0) {\n-        return -1;\n-    }\n\n"
}