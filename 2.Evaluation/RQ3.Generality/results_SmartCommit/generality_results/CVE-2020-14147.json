{
    "0": "-static int getnum (const char **fmt, int df) {\n\n+static int getnum (lua_State *L, const char **fmt, int df) {\n\n",
    "1": "+            if (a > (T_MAX / 10) || a * 10 > (T_MAX - (**fmt - '0'))) {\n+                luaL_error(L, \"integral size overflow\");\n+            }\n\n",
    "2": "-static int getnum (lua_State *L, const char **fmt, int df) {\n\n+static int getnum (const char **fmt, int df) {\n\n-            if (a > (T_MAX / 10) || a * 10 > (T_MAX - (**fmt - '0'))) {\n-                luaL_error(L, \"integral size overflow\");\n-            }\n\n",
    "3": "-    case 'c': return getnum(fmt, 1);\n\n+    case 'c': return getnum(L, fmt, 1);\n\n-        int sz = getnum(fmt, sizeof(int));\n\n+        int sz = getnum(L, fmt, sizeof(int));\n\n-    case 'c': return getnum(L, fmt, 1);\n\n+    case 'c': return getnum(fmt, 1);\n\n-        int sz = getnum(L, fmt, sizeof(int));\n\n+        int sz = getnum(fmt, sizeof(int));\n\n",
    "4": "-        int a = getnum(fmt, MAXALIGN);\n\n+        int a = getnum(L, fmt, MAXALIGN);\n\n-        int a = getnum(L, fmt, MAXALIGN);\n\n+        int a = getnum(fmt, MAXALIGN);\n\n"
}